{
  "phases": {
    "setup": {
      "nixPkgs": [
        "php84",
        "php84Packages.composer",
        "nodejs_20",
        "npm-9_x",
        "git",
        "unzip",
        "mysql80",
        "php84Extensions.intl",
        "php84Extensions.gd",
        "php84Extensions.pdo",
        "php84Extensions.pdo_mysql",
        "php84Extensions.redis",
        "php84Extensions.bcmath",
        "php84Extensions.zip",
        "php84Extensions.openssl",
        "php84Extensions.mbstring",
        "php84Extensions.tokenizer",
        "php84Extensions.xml",
        "php84Extensions.curl"
      ]
    },
    "install": {
      "cmds": [
        "composer install --optimize-autoloader --no-interaction --no-progress",
        "npm ci"
      ]
    },
    "build": {
      "cmds": [
        "npm run build",
        "php artisan config:cache",
        "php artisan route:cache",
        "php artisan view:cache"
      ]
    }
  }
}